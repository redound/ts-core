var TSCore;!function(a){var b=function(){function a(){}return Object.defineProperty(a.prototype,"static",{get:function(){return Object.getPrototypeOf(this).constructor},enumerable:!0,configurable:!0}),a}();a.BaseObject=b}(TSCore||(TSCore={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},TSCore;!function(a){var b;!function(b){var c=function(a){function b(b,c,d){a.call(this),this.topic=b,this._params=c,this.caller=d,this.isStopped=!1}return __extends(b,a),Object.defineProperty(b.prototype,"params",{get:function(){return this._params},enumerable:!0,configurable:!0}),b.prototype.stop=function(){this.isStopped=!0},b}(a.BaseObject);b.Event=c}(b=a.Events||(a.Events={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=function(a){function c(){a.call(this),this._eventCallbacks={}}return __extends(c,a),c.prototype.on=function(a,b,c,d){var e=this;return void 0===d&&(d=!1),_.each(a.split(" "),function(a){var f=e._eventCallbacks[a];f||(f=[],e._eventCallbacks[a]=f),f.push({topic:a,callback:b,context:c,once:d})}),this},c.prototype.once=function(a,b,c){return this.on.apply(this,[a,b,c,!0])},c.prototype.off=function(a,b,c){var d=this;return _.each(a.split(" "),function(a){var e=d._eventCallbacks[a];if(e){if(!b)return void delete d._eventCallbacks[a];var f=_.where(e,c?{callback:b,context:c}:{callback:b});e=_.difference(e,f),0==e.length?delete d._eventCallbacks[a]:d._eventCallbacks[a]=e}}),this},c.prototype.trigger=function(a,c,d){var e=this,f=this._eventCallbacks[a];if(f){var g=new b.Event(a,c,d);return _.each(f,function(b){g.isStopped||(b.callback.apply(b.context||e,[g]),b.once&&e.off(a,b.callback,b.context))}),this}},c.prototype.reset=function(){return this._eventCallbacks={},this},c}(a.BaseObject);b.EventEmitter=c}(b=a.Events||(a.Events={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b=function(a){function b(b){a.call(this),b&&this.load(b)}return __extends(b,a),b.prototype.get=function(a){if(this._data=this._data||{},this._cache=this._cache||{},!a)return this._data;if(this._cache[a])return this._cache[a];for(var b=a.split("."),c=this._data,d=0;d<b.length;d++){var e=b[d];if(void 0===c[e]){c=null;break}c=c[e]}return this._cache[a]=c},b.prototype.set=function(a,b){this._cache=this._cache||{},this._data=this._data||{};for(var c=a.split("."),d=this._data,e=0;e<c.length;e++){var f=c[e];void 0===d[f]&&e!==c.length-1&&(d[f]={}),d=d[f]}return this._cache[a]=d=b,this},b.prototype.load=function(a){return this._data=a,this},b.prototype.has=function(a){return null!==this.get(a)},b.prototype.clear=function(a){if(a){if(this._cache=this._cache||{},this._data=this._data||{},!this.has(a))return this;delete this._cache[a];for(var b=a.split("."),c=this._data,d=0;d<b.length;d++){var e=b[d];if(!c[e])break;d===b.length-1&&delete c[e],c=c[e]}return this}return this._cache={},this._data={},this},b}(a.Events.EventEmitter);a.Config=b}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b;!function(a){a.ADD="add",a.CHANGE="change",a.REMOVE="remove",a.CLEAR="clear"}(b=a.DictionaryEvents||(a.DictionaryEvents={}))}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=a.Data.DictionaryEvents,d=function(b){function d(c){b.call(this),this._itemCount=0,this.events=new a.Events.EventEmitter,this._data=c||{},this._itemCount=Object.keys(this._data).length}return __extends(d,b),d.prototype.get=function(a){var b=this._getPair(a);return b?b.value:null},d.prototype.set=function(a,b){if(null!=a&&void 0!=a){_.isObject(a)&&this._assignUniqueID(a);var d=this.contains(a),e=this._getKeyString(a);this._data[e]={key:e,originalKey:a,value:b},d||this._itemCount++,this.events.trigger(c.ADD,{key:a,value:b}),this.events.trigger(c.CHANGE)}},d.prototype.remove=function(a){var b=null,d=this._getPair(a);return d&&(delete this._data[d.key],b=d.value,this._itemCount--,this.events.trigger(c.REMOVE,{key:a,value:b}),this.events.trigger(c.CHANGE)),b},d.prototype.contains=function(a){return null!=this._getPair(a)},d.prototype.containsValue=function(a){var b=null;return this.each(function(c,d){return d==a?(b=d,!1):void 0}),null!=b},d.prototype.each=function(a){_.each(this._data,function(b){return a(b.originalKey,b.value)})},d.prototype.values=function(){return _.pluck(_.values(this._data),"value")},d.prototype.keys=function(){return _.pluck(_.values(this._data),"originalKey")},d.prototype.count=function(){return this._itemCount},d.prototype.isEmpty=function(){return 0===this.count()},d.prototype.clear=function(){this._data={},this._itemCount=0,this.events.trigger(c.CLEAR),this.events.trigger(c.CHANGE)},d.prototype.toObject=function(){var a={};return _.each(_.values(this._data),function(b){a[b.originalKey]=b.value}),a},d.prototype.toArray=function(){return this.values()},d.prototype.clone=function(){return new d(this._data)},d.prototype._getPair=function(a){var b=this._getKeyString(a),c=null;return null!=b&&void 0!=b&&(c=this._data[b]),c},d.prototype._getKeyString=function(a){return null==a||void 0==a?null:_.isString(a)?"s_"+a:_.isNumber(a)?"n_"+a:a[d._OBJECT_UNIQUE_ID_KEY]},d.prototype._assignUniqueID=function(a){a[d._OBJECT_UNIQUE_ID_KEY]="_"+d._OBJECT_UNIQUE_ID_COUNTER,d._OBJECT_UNIQUE_ID_COUNTER++},d._OBJECT_UNIQUE_ID_KEY="__TSCore_Object_Unique_ID",d._OBJECT_UNIQUE_ID_COUNTER=1,d}(a.BaseObject);b.Dictionary=d}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b=a.Data.Dictionary,c=function(a){function c(){a.call(this),this._services=new b,this._cache=new b}return __extends(c,a),c.prototype.get=function(a,b){void 0===b&&(b=!1);var c=this._services.get(a),d=null,e=b===!0||c&&c.shared===!0;return e&&this._cache.contains(a)&&(d=this._cache.get(a)),c&&!d&&(d=this._instantiate(c.service)),e&&this._cache.set(a,d),d},c.prototype.getShared=function(a){return this.get(a,!0)},c.prototype.set=function(a,b,c){void 0===c&&(c=!1),this._services.set(a,{service:b,shared:c})},c.prototype.setShared=function(a,b){return this.set(a,b,!0),this},c.prototype.reset=function(){return this._services.clear(),this},c.prototype._instantiate=function(a){var b=null;return b=_.isFunction(a)?a(this):a,b&&b.setDI&&b.setDI(this),b},c}(a.BaseObject);a.DI=c}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b;!function(a){a.ADD="add",a.CHANGE="change",a.REMOVE="remove",a.REPLACE="replace",a.CLEAR="clear"}(b=a.CollectionEvents||(a.CollectionEvents={}))}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=a.Data.CollectionEvents,d=function(b){function d(c){b.call(this),this.events=new a.Events.EventEmitter,this._data=c||[]}return __extends(d,b),Object.defineProperty(d.prototype,"length",{get:function(){return this.count()},enumerable:!0,configurable:!0}),d.prototype.count=function(){return this._data.length},d.prototype.add=function(a){return this.contains(a)?null:(this._data.push(a),this.events.trigger(c.ADD,{items:[a]}),this.events.trigger(c.CHANGE),a)},d.prototype.addMany=function(a){var b=this,d=[];return _.each(a,function(a){b.contains(a)||d.push(a)}),d.length>0&&(this._data=this._data.concat(d),this.events.trigger(c.ADD,{items:d}),this.events.trigger(c.CHANGE)),d},d.prototype.remove=function(a){this._data=_.without(this._data,a),this.events.trigger(c.REMOVE,{items:[a],clear:!1}),this.events.trigger(c.CHANGE)},d.prototype.removeMany=function(a){this._data=_.difference(this._data,a),this.events.trigger(c.REMOVE,{items:a,clear:!1}),this.events.trigger(c.CHANGE)},d.prototype.removeWhere=function(a){this.removeMany(this.where(a))},d.prototype.replaceItem=function(a,b){var d=_.indexOf(this._data,a);if(0>d||d>=this.count())return null;var e=this._data[d];return this._data[d]=b,this.events.trigger(c.REPLACE,{source:a,replacement:b}),this.events.trigger(c.CHANGE),e},d.prototype.clear=function(){var a=_.map(this._data,function(a,b){return{item:a,index:b}});this._data=[],this.events.trigger(c.REMOVE,{operations:a,clear:!0}),this.events.trigger(c.CLEAR),this.events.trigger(c.CHANGE)},d.prototype.each=function(a){_.each(this._data,a)},d.prototype.pluck=function(b){var c=_.pluck(_.clone(this._data),b);return new a.Data.Collection(c)},d.prototype.isEmpty=function(){return 0===this.count()},d.prototype.filter=function(a){return _.filter(this._data,a)},d.prototype.find=function(a){return _.find(this._data,a)},d.prototype.where=function(a){return _.where(this._data,a)},d.prototype.whereFirst=function(a){return _.findWhere(this._data,a)},d.prototype.contains=function(a){return _.contains(this._data,a)},d.prototype.map=function(b,c){var d=_.map(_.clone(this._data),b,c);return new a.Data.Collection(d)},d.prototype.transform=function(a,b){return this._data=_.map(this._data,a,b),this},d.prototype.reject=function(b,c){var d=_.reject(_.clone(this._data),b,c);return new a.Data.Collection(d)},d.prototype.toArray=function(){return _.clone(this._data)},d.prototype.clone=function(){return new d(_.clone(this._data))},d}(a.BaseObject);b.Collection=d}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b;!function(a){a.ADD="add",a.CHANGE="change",a.REMOVE="remove",a.REPLACE="replace",a.CLEAR="clear"}(b=a.ListEvents||(a.ListEvents={}))}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=a.Data.ListEvents,d=function(b){function d(c){b.call(this),this.events=new a.Events.EventEmitter,this._data=c||[]}return __extends(d,b),Object.defineProperty(d.prototype,"length",{get:function(){return this.count()},enumerable:!0,configurable:!0}),d.prototype.count=function(){return this._data.length},d.prototype.add=function(a){var b=this._data.push(a),d=[{item:a,index:b-1}];this.events.trigger(c.ADD,{operations:d}),this.events.trigger(c.CHANGE)},d.prototype.addMany=function(a){void 0===a&&(a=[]),this._data=this._data.concat(a);var b=this._data.length,d=[];_.each(a,function(a){d.push({item:a,index:b}),b++}),this.events.trigger(c.ADD,{operations:d}),this.events.trigger(c.CHANGE)},d.prototype.prepend=function(a){this.insert(a,0)},d.prototype.prependMany=function(a){this._data=a.concat(this._data);var b=0,d=[];_.each(a,function(a){d.push({item:a,index:b}),b++}),this.events.trigger(c.ADD,{operations:d}),this.events.trigger(c.CHANGE)},d.prototype.insert=function(a,b){this._data.splice(b,0,a);var d=[{item:a,index:b}];this.events.trigger(c.ADD,{operations:d}),this.events.trigger(c.CHANGE)},d.prototype.remove=function(a){var b=this.indexOf(a);this._data=_.without(this._data,a);var d=[{item:a,index:b}];this.events.trigger(c.REMOVE,{operations:d}),this.events.trigger(c.CHANGE)},d.prototype.removeAt=function(a){var b=this.get(a);this.remove(b)},d.prototype.removeMany=function(a){var b=this,d=_.map(a,function(a){return{item:a,index:b.indexOf(a)}});this._data=_.difference(this._data,a),this.events.trigger(c.REMOVE,{operations:d}),this.events.trigger(c.CHANGE)},d.prototype.removeWhere=function(a){this.removeMany(this.where(a))},d.prototype.replaceItem=function(a,b){return this.replace(this.indexOf(a),b)},d.prototype.replace=function(a,b){if(0>a||a>=this.count())return null;var d=this._data[a];return this._data[a]=b,this.events.trigger(c.REPLACE,{source:d,replacement:b}),this.events.trigger(c.CHANGE),d},d.prototype.clear=function(){var a=_.map(this._data,function(a,b){return{item:a,index:b}});this._data=[],this.events.trigger(c.REMOVE,{operations:a,clear:!0}),this.events.trigger(c.CLEAR),this.events.trigger(c.CHANGE)},d.prototype.each=function(a){_.each(this._data,a)},d.prototype.map=function(a,b){var c=_.map(this._data,a,b);return new d(c)},d.prototype.pluck=function(a){return _.pluck(this._data,a)},d.prototype.isEmpty=function(){return 0===this.count()},d.prototype.first=function(){return _.first(this._data)},d.prototype.last=function(){return _.last(this._data)},d.prototype.get=function(a){return this._data[a]},d.prototype.indexOf=function(a){return _.indexOf(this._data,a)},d.prototype.sort=function(a){this._data=_.sortBy(this._data,a),this.events.trigger(c.CHANGE)},d.prototype.find=function(a){return _.filter(this._data,a)},d.prototype.findFirst=function(a){return _.find(this._data,a)},d.prototype.where=function(a){return _.where(this._data,a)},d.prototype.whereFirst=function(a){return _.findWhere(this._data,a)},d.prototype.contains=function(a){return _.contains(this._data,a)},d.prototype.toArray=function(){return _.clone(this._data)},d.prototype.clone=function(){return new d(_.clone(this._data))},d}(a.BaseObject);b.List=d}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.setRange=function(a,b){if(0>a)throw"Start index less than 0 (zero) not allowed.";for(var c=a,d=a+b.length,e=Math.max(this._data.length,0),f=Math.min(e,c);d>f;f++)this._data[f]=b[f-c],void 0===this._data[f]&&(this._data[f]=null)},b.prototype.containsRange=function(a,b){for(var c=a,d=a+b,e=c;d>e;e++)if(!this._data[e])return!1;return!0},b.prototype.getRange=function(a,b){for(var c=a,d=a+b,e=[],f=c;d>f;f++){if(!this._data[f])return null;e.push(this._data[f])}return e},b}(a.List);a.DynamicList=b}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=function(b){function c(c){b.call(this),this.events=new a.Events.EventEmitter,_.defaults(this,this["static"].defaults()),c&&this.assignAll(c)}return __extends(c,b),c.prototype.set=function(a,b){this[a]=b},c.prototype.get=function(a){return this[a]},c.primaryKey=function(){return"id"},c.whitelist=function(){return[]},c.defaults=function(){return{}},c.prototype.getId=function(){return this[this["static"].primaryKey()]},c.prototype.assign=function(a){var b=this;return _.each(this["static"].whitelist(),function(c){_.isUndefined(a[c])||(b[c]=a[c])}),this},c.prototype.assignAll=function(a){var b=this;return _.each(a,function(c,d){_.isUndefined(a[d])||(b[d]=a[d])}),this},c.prototype.merge=function(a){this.assignAll(a.toObject())},c.prototype.equals=function(a){var b=this;a instanceof c&&(a=a.toObject());var d=!0;return _.each(this.getDataKeys(),function(c){d&&b[c]!=a[c]&&(d=!1)}),d},c.prototype.getDataKeys=function(){return _.filter(_.keys(this),function(a){return"_"!=a.slice(0,1)})},c.prototype.toObject=function(a){var b=this;void 0===a&&(a=!1);var d={};return _.each(this.getDataKeys(),function(e){var f=b[e],g=f;a&&f instanceof c&&(g=f.toObject()),d[e]=g}),d},c}(a.BaseObject);b.Model=c}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(a){function b(b,c){this._modelClass=b,a.call(this,c)}return __extends(b,a),b.prototype.addManyData=function(a){var b=this,c=[];return _.each(a,function(a){c.push(b._instantiateModel(a))}),this.addMany(c)},b.prototype.addData=function(a){return this.add(this._instantiateModel(a))},b.prototype.contains=function(a){var b=this._modelClass.primaryKey(),c={};return c[b]=a[b],null!=this.whereFirst(c)},b.prototype.toArray=function(){var a=[];return this.each(function(b){a.push(b.toObject())}),a},b.prototype._instantiateModel=function(a){return new this._modelClass(a)},b}(a.Collection);a.ModelCollection=b}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(a){function b(b,c){this._modelClass=b,a.call(this,c)}return __extends(b,a),b.prototype.addManyData=function(a){var b=this,c=[];return _.each(a,function(a){var d=b._instantiateModel(a);b.set(a[b._modelClass.primaryKey()],d),c.push(d)}),c},b.prototype.addData=function(a){var b=this._instantiateModel(a);return this.set(a[this._modelClass.primaryKey()],b),b},b.prototype.toArray=function(){return _.map(a.prototype.toArray.call(this),function(a){return a.toObject()})},b.prototype.toObject=function(){return _.mapObject(a.prototype.toObject,function(a){return a.toObject()})},b.prototype._instantiateModel=function(a){return new this._modelClass(a)},b}(a.Dictionary);a.ModelDictionary=b}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.List);a.ModelList=b}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b;!function(a){a.ADD="add",a.CHANGE="change",a.REMOVE="remove",a.REPLACE="replace",a.CLEAR="clear",a.SORT="sort"}(b=a.SortedListEvents||(a.SortedListEvents={}))}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=a.Data.SortedListEvents,d=function(b){function d(c,d){b.call(this),this.events=new a.Events.EventEmitter,this._data=c||[],this._sortPredicate=d,this.sort()}return __extends(d,b),Object.defineProperty(d.prototype,"sortPredicate",{get:function(){return this._sortPredicate},set:function(a){this._sortPredicate=a,this.sort()},enumerable:!0,configurable:!0}),Object.defineProperty(d.prototype,"length",{get:function(){return this.count()},enumerable:!0,configurable:!0}),d.prototype.count=function(){return this._data.length},d.prototype.add=function(a){this._data.push(a),this.sort();var b=[{item:a,index:this.indexOf(a)}];this.events.trigger(c.ADD,{operations:b}),this.events.trigger(c.CHANGE)},d.prototype.addMany=function(a){var b=this;void 0===a&&(a=[]),this._data=this._data.concat(a),this.sort();var d=[];_.each(a,function(a){d.push({item:a,index:b.indexOf(a)})}),this.events.trigger(c.ADD,{operations:d}),this.events.trigger(c.CHANGE)},d.prototype.remove=function(a){this._data=_.without(this._data,a),this.sort();var b=[{item:a,index:this.indexOf(a)}];this.events.trigger(c.REMOVE,{operations:b,clear:!1}),this.events.trigger(c.CHANGE)},d.prototype.removeMany=function(a){var b=this;this._data=_.difference(this._data,a),this.sort();var d=_.map(a,function(a){return{item:a,index:b.indexOf(a)}});this.events.trigger(c.REMOVE,{operations:d,clear:!1}),this.events.trigger(c.CHANGE)},d.prototype.removeWhere=function(a){this.removeMany(this.where(a))},d.prototype.replaceItem=function(a,b){var d=_.indexOf(this._data,a);if(0>d||d>=this.count())return null;var e=this._data[d];return this._data[d]=b,this.sort(),this.events.trigger(c.REPLACE,{source:a,replacement:b}),this.events.trigger(c.CHANGE),e},d.prototype.clear=function(){var a=_.map(this._data,function(a,b){return{item:a,index:b}});this._data=[],this.events.trigger(c.REMOVE,{operations:a,clear:!0}),this.events.trigger(c.CLEAR),this.events.trigger(c.CHANGE)},d.prototype.each=function(a){_.each(this._data,a)},d.prototype.pluck=function(a){return _.pluck(this._data,a)},d.prototype.isEmpty=function(){return 0===this.count()},d.prototype.first=function(){return _.first(this._data)},d.prototype.last=function(){return _.last(this._data)},d.prototype.get=function(a){return this._data[a]},d.prototype.indexOf=function(a){return _.indexOf(this._data,a)},d.prototype.find=function(a){return _.filter(this._data,a)},d.prototype.findFirst=function(a){return _.find(this._data,a)},d.prototype.where=function(a){return _.where(this._data,a)},d.prototype.whereFirst=function(a){return _.findWhere(this._data,a)},d.prototype.contains=function(a){return _.contains(this._data,a)},d.prototype.toArray=function(){return _.clone(this._data)},d.prototype.clone=function(){return new d(_.clone(this._data),this._sortPredicate)},d.prototype.sort=function(){null!==this._sortPredicate&&void 0!==this._sortPredicate&&(this._data=_.sortBy(this._data,this._sortPredicate),this.events.trigger(c.SORT),this.events.trigger(c.CHANGE))},d}(a.BaseObject);b.SortedList=d}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=function(b){function c(c,d,e){void 0===d&&(d=null),void 0===e&&(e=!1),b.call(this),this.events=new a.Events.EventEmitter,this.timeout=c,this.tickCallback=d,this.repeats=e}return __extends(c,b),Object.defineProperty(c.prototype,"tickCount",{get:function(){return this._tickCount},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"elapsedTime",{get:function(){return this._startDate?(new Date).getTime()-this._startDate.getTime():null},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"startDate",{get:function(){return this._startDate},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),c.prototype.start=function(){this._isStarted||(this._tickCount=0,this._startDate=new Date,this.events.trigger(a.DateTime.Timer.Events.START,{startDate:this._startDate}),this.resume())},c.prototype.resume=function(){this._isStarted||(this._internalTimer=this.repeats?setInterval(_.bind(this._timerTick,this),this.timeout):setTimeout(_.bind(this._timerTick,this),this.timeout),this._internalTimerIsInterval=this.repeats,this._isStarted=!0,this.events.trigger(a.DateTime.Timer.Events.RESUME,{startDate:this._startDate,tickCount:this._tickCount,elapsedTime:this.elapsedTime}))},c.prototype.pause=function(){this._isStarted&&((this._internalTimerIsInterval?clearInterval:clearTimeout)(this._internalTimer),this._internalTimer=null,this._isStarted=!1,this.events.trigger(a.DateTime.Timer.Events.PAUSE,{startDate:this._startDate,tickCount:this._tickCount,elapsedTime:this.elapsedTime}))},c.prototype.restart=function(){this.stop(),this.start()},c.prototype.stop=function(){var b={startDate:this._startDate,tickCount:this._tickCount,elapsedTime:this.elapsedTime};this.reset(),this.events.trigger(a.DateTime.Timer.Events.STOP,b)},c.prototype.reset=function(){this._isStarted&&this.pause(),this._tickCount=0,this._startDate=null},c.start=function(a,b,d){void 0===b&&(b=null),void 0===d&&(d=!1);var e=new c(a,b,d);return e.start(),e},c.prototype._timerTick=function(){this._tickCount++,this.tickCallback&&this.tickCallback(this._tickCount,this.elapsedTime),this.events.trigger(a.DateTime.Timer.Events.TICK,{startDate:this._startDate,tickCount:this._tickCount,elapsedTime:this.elapsedTime})},c}(a.BaseObject);b.Timer=c;var c;!function(a){var b;!function(a){a.START="start",a.PAUSE="pause",a.RESUME="resume",a.STOP="stop",a.TICK="tick"}(b=a.Events||(a.Events={}))}(c=b.Timer||(b.Timer={}))}(b=a.DateTime||(a.DateTime={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b}(a.BaseObject);b.ArgumentException=c}(b=a.Exception||(a.Exception={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=function(a){function b(b,c,d){void 0===c&&(c=0),void 0===d&&(d=null),a.call(this),this.message=b,this.code=c,this.data=d}return __extends(b,a),Object.defineProperty(b.prototype,"name",{get:function(){return typeof this},enumerable:!0,configurable:!0}),b.prototype.toString=function(){return this.name+" ("+this.code+"): "+this.message},b}(a.BaseObject);b.Exception=c}(b=a.Exception||(a.Exception={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=function(a){function b(b,c){void 0===b&&(b=0),void 0===c&&(c=0),a.call(this),this.x=b,this.y=c}return __extends(b,a),b.prototype.translate=function(a,b){this.x+=a,this.y+=b},b}(a.BaseObject);b.Point=c}(b=a.Geometry||(a.Geometry={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=function(a){function c(c,d,e,f){void 0===c&&(c=0),void 0===d&&(d=0),void 0===e&&(e=0),void 0===f&&(f=0),a.call(this),this.origin=new b.Point(c,d),this.size=new b.Size(e,f)}return __extends(c,a),Object.defineProperty(c.prototype,"x",{get:function(){return this.origin.x},set:function(a){this.origin.x=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"y",{get:function(){return this.origin.y},set:function(a){this.origin.y=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"width",{get:function(){return this.size.width},set:function(a){this.size.width=a},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"height",{get:function(){return this.size.height},set:function(a){this.size.height=a},enumerable:!0,configurable:!0}),c.prototype.center=function(){return new b.Point(this.origin.x+this.size.halfWidth(),this.origin.y+this.size.halfHeight())},c.prototype.topLeft=function(){return new b.Point(this.origin.x,this.origin.y)},c.prototype.bottomLeft=function(){return new b.Point(this.origin.x,this.origin.y+this.size.height)},c.prototype.topRight=function(){return new b.Point(this.origin.x+this.size.width,this.origin.y)},c.prototype.bottomRight=function(){return new b.Point(this.origin.x+this.size.width,this.origin.y+this.size.height)},c.prototype.halfWidth=function(){return this.size.halfWidth()},c.prototype.halfHeight=function(){return this.size.halfHeight()},c.prototype.containsPoint=function(a){var b=this.topLeft(),c=this.bottomRight();return a.x>b.x&&a.x<c.x&&a.y>b.y&&a.y<c.y},c.prototype.containsRect=function(a){return this.containsPoint(a.topLeft())&&this.containsPoint(a.bottomRight())},c.prototype.intersectsRect=function(a){return this.containsPoint(a.topLeft())||this.containsPoint(a.bottomLeft())||this.containsPoint(a.topRight())||this.containsPoint(a.bottomRight())},c.prototype.inset=function(a,b,c,d){return this.origin.x+=d,this.origin.y+=a,this.size.width-=b,this.size.height-=c,this},c.prototype.insetCenter=function(a,b){return this.inset(b/2,a/2,b/2,a/2),this},c.prototype.expand=function(a,b){return this.insetCenter(-a,-b),this},c.prototype.reduce=function(a,b){return this.insetCenter(a,b),this},c}(a.BaseObject);b.Rect=c}(b=a.Geometry||(a.Geometry={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=function(a){function b(b,c){void 0===b&&(b=0),void 0===c&&(c=0),a.call(this),this.width=b,this.height=c}return __extends(b,a),b.prototype.halfWidth=function(){return this.width/2},b.prototype.halfHeight=function(){return this.height/2},b}(a.BaseObject);b.Size=c}(b=a.Geometry||(a.Geometry={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){!function(a){a[a.LOG=0]="LOG",a[a.INFO=1]="INFO",a[a.WARN=2]="WARN",a[a.ERROR=3]="ERROR",a[a.FATAL=4]="FATAL"}(b.LogLevel||(b.LogLevel={}));var c=b.LogLevel,d=function(b){function d(c,d){b.call(this),this._parent=c,this._tag=d,this._streams=this._parent?this._parent.getStreams():new a.Data.Dictionary}return __extends(d,b),d.prototype.child=function(a){return new d(this,a)},d.prototype.addStream=function(a,b,d){void 0===d&&(d=c.LOG),this._streams.set(a,{level:d,stream:b})},d.prototype.removeStream=function(a){this._streams.remove(a)},d.prototype.getStreams=function(){return this._streams},d.prototype.log=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];this._exec(c.LOG,a)},d.prototype.info=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];this._exec(c.INFO,a)},d.prototype.warn=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];this._exec(c.WARN,a)},d.prototype.error=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];this._exec(c.ERROR,a)},d.prototype.fatal=function(){for(var a=[],b=0;b<arguments.length;b++)a[b-0]=arguments[b];this._exec(c.FATAL,a)},d.prototype._exec=function(a,b){var c=this._tag||b.shift();this._streams.each(function(d,e){a>=e.level&&e.stream.exec({level:a,tag:c,args:b,time:(new Date).getTime()})})},d}(a.BaseObject);b.Logger=d}(b=a.Logger||(a.Logger={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c;!function(b){var c=function(b){function c(a,c){void 0===c&&(c=!0),b.call(this),this._console=a,this.colorsEnabled=c}return __extends(c,b),c.prototype.exec=function(b){var c;switch(b.level){case a.Logger.LogLevel.LOG:c="log";break;case a.Logger.LogLevel.INFO:c="info";break;case a.Logger.LogLevel.WARN:c="warn";break;case a.Logger.LogLevel.ERROR:c="error"}var d=b.args||[],e=[];if(this.colorsEnabled){var f=this._generateHex(b.tag),g=this._getIdealTextColor(f);e=["%c "+b.tag+" ","background: "+f+"; color: "+g+";"].concat(d)}else e=[b.tag].concat(d);this._console[c].apply(this._console,e)},c.prototype._generateHex=function(a){for(var b=0,c=0;b<a.length;c=a.charCodeAt(b++)+((c<<5)-c));for(var b=0,d="#";3>b;d+=("00"+(c>>8*b++&255).toString(16)).slice(-2));return d},c.prototype._getIdealTextColor=function(a){var b=a.substring(1,3),c=a.substring(3,5),d=a.substring(5,7),e={R:parseInt(b,16),G:parseInt(c,16),B:parseInt(d,16)},f=105,g=.299*e.R+.587*e.G+.114*e.B;return f>255-g?"#000000":"#ffffff"},c}(a.BaseObject);b.Console=c}(c=b.Stream||(b.Stream={}))}(b=a.Logger||(a.Logger={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.prototype.encode=function(a){if(!a)return a;var c,d,e,f,g,h=b.keyStr,i="",j="",k="",l=0;do c=a.charCodeAt(l++),d=a.charCodeAt(l++),j=a.charCodeAt(l++),e=c>>2,f=(3&c)<<4|d>>4,g=(15&d)<<2|j>>6,k=63&j,isNaN(d)?g=k=64:isNaN(j)&&(k=64),i=i+h.charAt(e)+h.charAt(f)+h.charAt(g)+h.charAt(k),c=d=j="",e=f=g=k="";while(l<a.length);return i},b.prototype.decode=function(a){if(!a)return a;var c,d,e,f,g,h=b.keyStr,i="",j="",k="",l=0,m=/[^A-Za-z0-9\+\/\=]/g;m.exec(a)&&alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do e=h.indexOf(a.charAt(l++)),f=h.indexOf(a.charAt(l++)),g=h.indexOf(a.charAt(l++)),k=h.indexOf(a.charAt(l++)),c=e<<2|f>>4,d=(15&f)<<4|g>>2,j=(3&g)<<6|k,i+=String.fromCharCode(c),64!=g&&(i+=String.fromCharCode(d)),64!=k&&(i+=String.fromCharCode(j)),c=d=j="",e=f=g=k="";while(l<a.length);return i},b.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",b}(a.BaseObject);b.Base64=c}(b=a.Utils||(a.Utils={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(){function a(){}return a.names=function(a){return Object.keys(a).filter(function(a){return isNaN(parseInt(a,10))})},a.values=function(a){return Object.keys(a).map(function(a){return parseInt(a,10)}).filter(function(a){return!isNaN(a)})},a.object=function(b){return a.values(b).map(function(a){return{name:b[a],value:a}})},a}();a.Enum=b}(b=a.Utils||(a.Utils={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),Object.defineProperty(b,"uuidLut",{get:function(){if(!b._uuidLut){for(var a=[],c=0;256>c;c++)a[c]=(16>c?"0":"")+c.toString(16);b._uuidLut=a}return b._uuidLut},enumerable:!0,configurable:!0}),b.number=function(a,b){return Math.floor(Math.random()*b+a)},b.uniqueNumber=function(){return parseInt((new Date).getTime()+""+b.number(0,100))},b.bool=function(){return 1==b.number(0,1)},b.string=function(a,b){void 0===a&&(a=10),void 0===b&&(b="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");for(var c="",d=a;d>0;--d)c+=b[Math.round(Math.random()*(b.length-1))];return c},b.uuid=function(){var a=this.uuidLut,b=4294967295*Math.random()|0,c=4294967295*Math.random()|0,d=4294967295*Math.random()|0,e=4294967295*Math.random()|0;return a[255&b]+a[b>>8&255]+a[b>>16&255]+a[b>>24&255]+"-"+a[255&c]+a[c>>8&255]+"-"+a[c>>16&15|64]+a[c>>24&255]+"-"+a[63&d|128]+a[d>>8&255]+"-"+a[d>>16&255]+a[d>>24&255]+a[255&e]+a[e>>8&255]+a[e>>16&255]+a[e>>24&255]},b}(a.BaseObject);b.Random=c}(b=a.Utils||(a.Utils={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=function(a){function b(){a.apply(this,arguments)}return __extends(b,a),b.escapeHtml=function(a){var c=b.HtmlEntityMap;return a.replace(/[&<>"'\/]/g,function(a){return c[a]})},b.truncate=function(a,b,c){return void 0===c&&(c="..."),a.length<=length?a:a.substring(0,length)+c},b.concatenate=function(a,b,c){void 0===b&&(b=", "),void 0===c&&(c=b);var d="";return _.each(a,function(e,f){f>0&&(d+=f==a.length-1?c:b),d+=e}),d},b.zeroPad=function(a,b,c){return void 0===c&&(c="0"),a.length>=b?a:new Array(b-a.length+1).join(c)+a},b.ucFirst=function(a){return""==a?a:a.charAt(0).toUpperCase()+a.slice(1)},b.startsWith=function(a,b){return a.slice(0,b.length)==b},b.endsWith=function(a,b){
return a.slice(-b.length)==b},b.HtmlEntityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},b}(a.BaseObject);b.Text=c}(b=a.Utils||(a.Utils={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c=function(a){function b(b){a.call(this),this._path=b}return __extends(b,a),Object.defineProperty(b.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"host",{get:function(){return"www.example.com"},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"basePath",{get:function(){return"http://www.example.com/"},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"relativePath",{get:function(){return"home/index"},enumerable:!0,configurable:!0}),b}(a.BaseObject);b.URL=c}(b=a.Utils||(a.Utils={}))}(TSCore||(TSCore={}));