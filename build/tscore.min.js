var TSCore;!function(a){var b;!function(a){var b=function(){function a(){this._eventCallbacks={}}return a.prototype.on=function(a,b,c){var d=this;_.each(a.split(" "),function(a){var e=d._eventCallbacks[a];e||(e=[],d._eventCallbacks[a]=e),e.push({callback:b,context:c})})},a.prototype.off=function(a,b,c){var d=this;_.each(a.split(" "),function(a){var e=d._eventCallbacks[a];if(e){if(!b)return void delete d._eventCallbacks[a];var f=_.where(e,c?{callback:b,context:c}:{callback:b});e=_.difference(e,f),0==e.length?delete d._eventCallbacks[a]:d._eventCallbacks[a]=e}})},a.prototype.trigger=function(a){for(var b=this,c=[],d=1;d<arguments.length;d++)c[d-1]=arguments[d];var e=this._eventCallbacks[a];e&&_.each(e,function(a){a.callback.apply(a.context||b,c||[])})},a.prototype.resetEvents=function(){this._eventCallbacks={}},a}();a.EventEmitter=b}(b=a.Events||(a.Events={}))}(TSCore||(TSCore={}));var __extends=this&&this.__extends||function(a,b){function c(){this.constructor=a}for(var d in b)b.hasOwnProperty(d)&&(a[d]=b[d]);c.prototype=b.prototype,a.prototype=new c},TSCore;!function(a){var b;!function(b){var c;!function(b){var c=function(a){function b(b){a.call(this),this._data=b||{}}return __extends(b,a),b.prototype.get=function(a){var b=this._getPair(a);return b?b.value:null},b.prototype.set=function(a,c){if(null!=a&&void 0!=a){_.isObject(a)&&this._assignUniqueID(a);var d=this.contains(a),e=this._getKeyString(a);this._data[e]={key:e,value:c},d||this._itemCount++,this.trigger(b.EVENTS.SET,a,c,this),this.trigger(b.EVENTS.CHANGE,this)}},b.prototype.remove=function(a){var c=null,d=this._getPair(a);return d&&(delete this._data[d.key],c=d.value,this._itemCount--,this.trigger(b.EVENTS.REMOVE,a,this),this.trigger(b.EVENTS.CHANGE,this)),c},b.prototype.contains=function(a){return null!=this._getPair(a)},b.prototype.containsValue=function(a){var b=null;return this.each(function(c,d){return d==a?(b=d,!1):void 0}),null!=b},b.prototype.each=function(a){_.each(this._data,function(b){return a(b.key,b.value)})},b.prototype.values=function(){return _.pluck(_.values(this._data),"value")},b.prototype.keys=function(){return _.pluck(_.values(this._data),"key")},b.prototype.count=function(){return this._itemCount},b.prototype.isEmpty=function(){return 0===this.count()},b.prototype.clear=function(){this._data={},this._itemCount=0,this.trigger(b.EVENTS.CLEAR,this),this.trigger(b.EVENTS.CHANGE,this)},b.prototype._getPair=function(a){var b=this._getKeyString(a),c=null;return null!=b&&void 0!=b&&(c=this._data[b]),c},b.prototype._getKeyString=function(a){return null==a||void 0==a?null:_.isString(a)?"s_"+a:_.isNumber(a)?"n_"+a:a[b._OBJECT_UNIQUE_ID_KEY]},b.prototype._assignUniqueID=function(a){a[b._OBJECT_UNIQUE_ID_KEY]="_"+b._OBJECT_UNIQUE_ID_COUNTER,b._OBJECT_UNIQUE_ID_COUNTER++},b.EVENTS={CHANGE:"change",SET:"add",REMOVE:"remove",CLEAR:"clear"},b._OBJECT_UNIQUE_ID_KEY="__TSCore_Object_Unique_ID",b._OBJECT_UNIQUE_ID_COUNTER=1,b}(a.Events.EventEmitter);b.Dictionary=c}(c=b.Collection||(b.Collection={}))}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b=a.Data.Collection.Dictionary,c=function(){function a(){this._services=new b,this._cache=new b}return a.prototype.get=function(a,b){void 0===b&&(b=!1);var c=this._services.get(a),d=null,e=b===!0||c.shared===!0;return e&&this._cache.contains(a)&&(d=this._cache.get(a)),d||(d=this._instantiate(c.service)),e&&this._cache.set(a,d),d},a.prototype.getShared=function(a){return this.get(a,!0)},a.prototype.set=function(a,b,c){void 0===c&&(c=!1),this._services.set(a,{service:b,shared:c})},a.prototype.setShared=function(a,b){this.set(a,b,!0)},a.prototype.reset=function(){this._services.clear()},a.prototype._instantiate=function(a){var b=null;return b=_.isFunction(a)?a(this):a,b.setDI&&b.setDI(this),a},a}();a.DI=c}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(b){var c;!function(b){var c=function(a){function b(b){a.call(this),this._data=b||[]}return __extends(b,a),Object.defineProperty(b.prototype,"length",{get:function(){return this.count()},enumerable:!0,configurable:!0}),b.prototype.add=function(a){this._data.push(a),this.trigger(b.EVENTS.ADD,[a],this),this.trigger(b.EVENTS.CHANGE,this)},b.prototype.addMany=function(a){this._data=this._data.concat(a),this.trigger(b.EVENTS.ADD,a,this),this.trigger(b.EVENTS.CHANGE,this)},b.prototype.remove=function(a){this._data=_.without(this._data,a),this.trigger(b.EVENTS.REMOVE,[a],this),this.trigger(b.EVENTS.CHANGE,this)},b.prototype.removeMany=function(a){this._data=_.difference(this._data,a),this.trigger(b.EVENTS.REMOVE,a,this),this.trigger(b.EVENTS.CHANGE,this)},b.prototype.removeWhere=function(a){this.removeMany(this.where(a))},b.prototype.replaceItem=function(a,c){var d=_.indexOf(this._data,a);if(0>d||d>=this.count())return null;var e=this._data[d];return this._data[d]=c,this.trigger(b.EVENTS.REPLACE,a,c,this),this.trigger(b.EVENTS.CHANGE,this),e},b.prototype.clear=function(){this._data=[],this.trigger(b.EVENTS.REMOVE,this.toArray(),this),this.trigger(b.EVENTS.CLEAR,this),this.trigger(b.EVENTS.CHANGE,this)},b.prototype.each=function(a){_.each(this._data,a)},b.prototype.pluck=function(a){return _.pluck(this._data,a)},b.prototype.count=function(){return this._data.length},b.prototype.isEmpty=function(){return 0===this.count()},b.prototype.populate=function(a){var b=this;_.each(a,function(a){var c=b._createItem(a);return c?b.add(c):void 0})},b.prototype.find=function(a){return _.filter(this._data,a)},b.prototype.findFirst=function(a){return _.find(this._data,a)},b.prototype.where=function(a){return _.where(this._data,a)},b.prototype.whereFirst=function(a){return _.findWhere(this._data,a)},b.prototype.contains=function(a){return _.contains(this._data,a)},b.prototype.toArray=function(){return _.clone(this._data)},b.prototype._createItem=function(a){return a},b.EVENTS={CHANGE:"change",ADD:"add",REMOVE:"remove",REPLACE:"replace",CLEAR:"clear"},b}(a.Events.EventEmitter);b.Set=c}(c=b.Collection||(b.Collection={}))}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b;!function(a){var b=function(b){function c(){b.apply(this,arguments)}return __extends(c,b),Object.defineProperty(c.prototype,"length",{get:function(){return this.count()},enumerable:!0,configurable:!0}),c.prototype.prepend=function(a){this.insert(a,0)},c.prototype.prependMany=function(a){this._data=a.concat(this._data),this.trigger(c.EVENTS.ADD,[a],this),this.trigger(c.EVENTS.CHANGE,this)},c.prototype.insert=function(a,b){this._data.splice(b,0,a),this.trigger(c.EVENTS.ADD,[a],this),this.trigger(c.EVENTS.CHANGE,this)},c.prototype.replaceItem=function(a,b){return this.replace(this.indexOf(a),b)},c.prototype.replace=function(b,c){if(0>b||b>=this.count())return null;var d=this._data[b];return this._data[b]=c,this.trigger(a.Set.EVENTS.REPLACE,d,c,this),this.trigger(a.Set.EVENTS.CHANGE,this),d},c.prototype.first=function(){return _.first(this._data)},c.prototype.last=function(){return _.last(this._data)},c.prototype.get=function(a){return this._data[a]},c.prototype.indexOf=function(a){return _.indexOf(this._data,a)},c}(a.Set);a.Collection=b}(b=a.Collection||(a.Collection={}))}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b;!function(a){var b=function(){function a(){}return a}();a.Grid=b}(b=a.Collection||(a.Collection={}))}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b;!function(a){var b=function(){function a(){}return a}();a.Queue=b}(b=a.Collection||(a.Collection={}))}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b;!function(a){var b=function(a){function b(b,c){a.call(this,b),this._sortPredicate=c,this.sort()}return __extends(b,a),Object.defineProperty(b.prototype,"sortPredicate",{get:function(){return this._sortPredicate},set:function(a){this._sortPredicate=a,this.sort()},enumerable:!0,configurable:!0}),b.prototype.add=function(b){a.prototype.add.call(this,b),this.sort()},b.prototype.addMany=function(b){a.prototype.addMany.call(this,b),this.sort()},b.prototype.remove=function(b){a.prototype.remove.call(this,b),this.sort()},b.prototype.removeMany=function(b){a.prototype.removeMany.call(this,b),this.sort()},b.prototype.replaceItem=function(b,c){var d=a.prototype.replaceItem.call(this,b,c);return this.sort(),d},b.prototype.first=function(){return _.first(this._data)},b.prototype.last=function(){return _.last(this._data)},b.prototype.get=function(a){return this._data[a]},b.prototype.indexOf=function(a){return _.indexOf(this._data,a)},b.prototype.sort=function(){null!==this._sortPredicate&&void 0!==this._sortPredicate&&(this._data=_.sortBy(this._data,this._sortPredicate),this.trigger(b.EVENTS.SORT,this),this.trigger(b.EVENTS.CHANGE,this))},b.EVENTS={CHANGE:"change",ADD:"add",REMOVE:"remove",REPLACE:"replace",CLEAR:"clear",SORT:"sort"},b}(a.Set);a.SortedCollection=b}(b=a.Collection||(a.Collection={}))}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(){function a(){}return a}();a.Config=b}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b;!function(a){var b=function(){function a(a){var b=this;this.defaults={},_.each(a,function(a,c){void 0!==b.defaults[c]&&(b[c]=a)})}return a}();a.Model=b}(b=a.Model||(a.Model={}))}(b=a.Data||(a.Data={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(){function a(){}return a}();a.DateFormatter=b}(b=a.DateTime||(a.DateTime={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(){function a(){}return a}();a.DateTime=b}(b=a.DateTime||(a.DateTime={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(){function a(a,b,c){void 0===b&&(b=null),void 0===c&&(c=!1),this.timeout=a,this.tickCallback=b,this.repeats=c}return Object.defineProperty(a.prototype,"tickCount",{get:function(){return this._tickCount},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"elapsedTime",{get:function(){return this._startDate?(new Date).getTime()-this._startDate.getTime():null},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"startDate",{get:function(){return this._startDate},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!0,configurable:!0}),a.prototype.start=function(){this._isStarted||(this._tickCount=0,this._startDate=new Date,this.resume())},a.prototype.resume=function(){this._isStarted||(this._internalTimer=this.repeats?setInterval(_.bind(this._timerTick,this),this.timeout):setTimeout(_.bind(this._timerTick,this),this.timeout),this._internalTimerIsInterval=this.repeats,this._isStarted=!0)},a.prototype.pause=function(){this._isStarted&&((this._internalTimerIsInterval?clearInterval:clearTimeout)(this._internalTimer),this._internalTimer=null,this._isStarted=!1)},a.prototype.restart=function(){this.stop(),this.start()},a.prototype.stop=function(){this.reset()},a.prototype.reset=function(){this._isStarted&&this.pause(),this._tickCount=0,this._startDate=null},a.start=function(b,c,d){void 0===c&&(c=null),void 0===d&&(d=!1);var e=new a(b,c,d);return e.start(),e},a.prototype._timerTick=function(){this._tickCount++,this.tickCallback&&this.tickCallback(this._tickCount,this.elapsedTime)},a}();a.Timer=b}(b=a.DateTime||(a.DateTime={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(){function a(){}return a}();a.ArgumentException=b}(b=a.Exception||(a.Exception={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(){function a(a,b,c){void 0===b&&(b=0),void 0===c&&(c=null),this.message=a,this.code=b,this.data=c}return Object.defineProperty(a.prototype,"name",{get:function(){return typeof this},enumerable:!0,configurable:!0}),a.prototype.toString=function(){return this.name+" ("+this.code+"): "+this.message},a}();a.Exception=b}(b=a.Exception||(a.Exception={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(){function a(a,b){void 0===a&&(a=0),void 0===b&&(b=0),this.x=a,this.y=b}return a.prototype.translate=function(a,b){this.x+=a,this.y+=b},a}();a.Point=b}(b=a.Geometry||(a.Geometry={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(){function b(b,c,d,e){void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),void 0===e&&(e=0),this.origin=new a.Point(b,c),this.size=new a.Size(d,e)}return Object.defineProperty(b.prototype,"x",{get:function(){return this.origin.x},set:function(a){this.origin.x=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"y",{get:function(){return this.origin.y},set:function(a){this.origin.y=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"width",{get:function(){return this.size.width},set:function(a){this.size.width=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"height",{get:function(){return this.size.height},set:function(a){this.size.height=a},enumerable:!0,configurable:!0}),b.prototype.center=function(){return new a.Point(this.origin.x+this.size.halfWidth(),this.origin.y+this.size.halfHeight())},b.prototype.topLeft=function(){return new a.Point(this.origin.x,this.origin.y)},b.prototype.bottomLeft=function(){return new a.Point(this.origin.x,this.origin.y+this.size.height)},b.prototype.topRight=function(){return new a.Point(this.origin.x+this.size.width,this.origin.y)},b.prototype.bottomRight=function(){return new a.Point(this.origin.x+this.size.width,this.origin.y+this.size.height)},b.prototype.halfWidth=function(){return this.size.halfWidth()},b.prototype.halfHeight=function(){return this.size.halfHeight()},b.prototype.containsPoint=function(a){var b=this.topLeft(),c=this.bottomRight();return a.x>b.x&&a.x<c.x&&a.y>b.y&&a.y<c.y},b.prototype.containsRect=function(a){return this.containsPoint(a.topLeft())&&this.containsPoint(a.bottomRight())},b.prototype.intersectsRect=function(a){return this.containsPoint(a.topLeft())||this.containsPoint(a.bottomLeft())||this.containsPoint(a.topRight())||this.containsPoint(a.bottomRight())},b.prototype.inset=function(a,b,c,d){this.origin.x+=d,this.origin.y+=a,this.size.width-=b,this.size.height-=c},b.prototype.insetCenter=function(a,b){this.inset(b/2,a/2,b/2,a/2)},b.prototype.expand=function(a,b){this.insetCenter(-a,-b)},b.prototype.reduce=function(a,b){this.insetCenter(a,b)},b}();a.Rect=b}(b=a.Geometry||(a.Geometry={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(){function a(a,b){void 0===a&&(a=0),void 0===b&&(b=0),this.width=a,this.height=b}return a.prototype.halfWidth=function(){return this.width/2},a.prototype.halfHeight=function(){return this.height/2},a}();a.Size=b}(b=a.Geometry||(a.Geometry={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(){function a(){}return a.escapeHtml=function(b){var c=a.HtmlEntityMap;return String(b).replace(/[&<>"'\/]/g,function(a){return c[a]})},a.truncate=function(a,b,c){return void 0===c&&(c="..."),a.length<=length?a:a.substring(0,length)+c},a.concatenate=function(a,b,c){void 0===b&&(b=", "),void 0===c&&(c=b);var d="";return _.each(a,function(e,f){f>0&&(d+=f==a.length-1?c:b),d+=e}),d},a.zeroPad=function(a,b,c){return void 0===c&&(c="0"),a.length>=b?a:new Array(b-a.length+1).join(c)+a},a.ucFirst=function(a){return""==a?a:a.charAt(0).toUpperCase()+a.slice(1)},a.HtmlEntityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},a}();a.Format=b}(b=a.Text||(a.Text={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(){function a(){}return a}();a.Language=b}(b=a.Text||(a.Text={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(){function a(){}return a}();a.Random=b}(b=a.Text||(a.Text={}))}(TSCore||(TSCore={}));var TSCore;!function(a){var b;!function(a){var b=function(){function a(a){this._path=a}return Object.defineProperty(a.prototype,"path",{get:function(){return this._path},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"host",{get:function(){return"www.example.com"},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"basePath",{get:function(){return"http://www.example.com/"},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"relativePath",{get:function(){return"home/index"},enumerable:!0,configurable:!0}),a}();a.URL=b}(b=a.Text||(a.Text={}))}(TSCore||(TSCore={}));